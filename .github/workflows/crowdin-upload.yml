# Manual workflow to upload source files to Crowdin
name: Upload Sources to Crowdin

on:
  workflow_dispatch: # Manual trigger only

permissions:
  contents: read

jobs:
  upload:
    name: Upload Source Files
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v5

      - name: Setup Node.js
        uses: actions/setup-node@v5
        with:
          node-version: 'lts/*'

      - name: Install Crowdin CLI
        run: npm install -g @crowdin/cli

      - name: Upload sources to Crowdin
        run: crowdin upload sources
        working-directory: ./${{ github.event.repository.name }}
        env:
          CROWDIN_PROJECT_ID: ${{ secrets.CROWDIN_PROJECT_ID }}
          CROWDIN_PERSONAL_TOKEN: ${{ secrets.CROWDIN_PERSONAL_TOKEN }}
